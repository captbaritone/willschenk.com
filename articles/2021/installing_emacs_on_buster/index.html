<!doctype html><html><head><title>Installing emacs on buster</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=../../../css/theme.css><link rel=stylesheet href=../../../css/syntax.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-56296045-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script async defer data-domain=willschenk.com src=https://plausible.io/js/plausible.js></script><meta property="og:title" content="Installing emacs on buster"><meta property="og:description" content="I've already written about installing emacs-snapshot on debian buster, here are two additional ways. The first is to use flatpak, and the other is to build from source. Flatpack  sudo apt-get install flatpak sudo apt install gnome-software-plugin-flatpak sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo   Then: sudo flatpak install flathub org.gnu.emacs   And running it: flatpak run org.gnu.emacs   You can then pin it in your dock and you are good to go."><meta property="og:type" content="article"><meta property="og:url" content="https://willschenk.com/articles/2021/installing_emacs_on_buster/"><meta property="article:published_time" content="2021-03-05T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-05T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Installing emacs on buster"><meta name=twitter:description content="I've already written about installing emacs-snapshot on debian buster, here are two additional ways. The first is to use flatpak, and the other is to build from source. Flatpack  sudo apt-get install flatpak sudo apt install gnome-software-plugin-flatpak sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo   Then: sudo flatpak install flathub org.gnu.emacs   And running it: flatpak run org.gnu.emacs   You can then pin it in your dock and you are good to go."><meta name=twitter:site content="@wschenk"><style>.article p,.article ul,.article ol,.article table{max-width:45em}.article pre p{max-width:none;margin-top:-1.5rem}article.article p:first-child,.article blockquote{font-size:1.25em;font-weight:300;max-width:36em}.half-height-scroll{max-height:32em;overflow:scroll}</style></head><body><nav class="container my-5"><h1 class="pt-md-5 display-3"><a class=text-dark href=../../../>Will Schenk</a></h1><p><a class="text-dark h4 mr-3 font-weight-light" href=../../../articles/>Articles</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../contact>Contact</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../tags/>Tags</a>
<a href=../../../feed.xml class="mr-3 h4 text-light"><img src=../../../img/rss.svg alt=rss height=20 width=20></a>
<a href=https://twitter.com/@wschenk class="mr-3 h4 text-light"><img src=../../../img/twitter.svg alt=twitter height=20 width=20></a>
<a href=https://instagram.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/instagram.svg alt=instagram height=20 width=20></a>
<a href=https://github.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/github.svg alt=github height=20 width=20></a>
<a href=https://linkedin.com/in/will-schenk-420266 class="mr-3 h4 text-light"><img src=../../../img/linkedin.svg alt=linkedin height=20 width=20></a></p></nav><div class=container><h1 class=mt-5>Installing emacs on buster</h1><h2 class="font-weight-light font-italic mb-3">so many ways to get software</h2><p class="text-muted mt-3"><a class=text-muted href=https://willschenk.com/articles/2021/installing_emacs_on_buster/>Published March 5, 2021</a>
<a class=text-muted href=../../../tags/emacs>#emacs,</a>
<a class=text-muted href=../../../tags/debian>#debian,</a>
<a class=text-muted href=../../../tags/flatpak>#flatpak</a></p><article class="article mt-5"><p>I've already <a href=https://willschenk.com/articles/2020/upgrading_emacs_on_debian/>written about installing emacs-snapshot</a> on debian buster, here are two additional ways. The first is to use flatpak, and the other is to build from source.</p><h2 id=headline-1>Flatpack</h2><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>sudo apt-get install flatpak
sudo apt install gnome-software-plugin-flatpak
sudo flatpak remote-add --if-not-exists flathub https://flathub.org/repo/flathub.flatpakrepo</code></pre></div></div><p>Then:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>sudo flatpak install flathub org.gnu.emacs</code></pre></div></div><p>And running it:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>flatpak run org.gnu.emacs</code></pre></div></div><p>You can then pin it in your dock and you are good to go.</p><h2 id=headline-2>From Source</h2><p>For buster debian, make sure you have the deb-src lines in your <code class=verbatim>/etc/apt/sources.list</code></p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>deb http://deb.debian.org/debian buster main contrib non-free
deb-src http://deb.debian.org/debian buster main contrib non-free

deb http://deb.debian.org/debian-security/ buster/updates main contrib non-free
deb-src http://deb.debian.org/debian-security/ buster/updates main contrib non-free

deb http://deb.debian.org/debian buster-updates main contrib non-free
deb-src http://deb.debian.org/debian buster-updates main contrib non-free</code></pre></div></div><p>Then lets add the dependancies and pull down the emacs source code:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  sudo apt update

  <span class=c1># Make sure you have the builddeps</span>

  sudo apt build-dep emacs25

  <span class=c1># Also install native json parsing</span>

  sudo apt-get install libjansson4 libjansson-dev libmagickcore-dev

  <span class=c1># Download the monster</span>
  git clone --depth <span class=m>1</span> --branch emacs-27 https://git.savannah.gnu.org/git/emacs.git</code></pre></div></div><p>Now we can run <code class=verbatim>./autogen.sh</code> and <code class=verbatim>./configure</code>:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  <span class=nb>cd</span> emacs
  ./autogen.sh
  ./configure
  make</code></pre></div></div><p>You can test this out by running:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  src/emacs</code></pre></div></div><p>Or just install it:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  sudo make install</code></pre></div></div><h3 id=headline-3><code class=verbatim>.desktop</code> file:</h3><p>This is what I have in my <code class=verbatim>~/.local/share/applications/emacs.desktop</code>:</p><div class="src src-ini"><div class=highlight><pre class=chroma><code class=language-ini data-lang=ini><span class=k>[Desktop Entry]</span>
<span class=na>Version</span><span class=o>=</span><span class=s>1.0</span>
<span class=na>Name</span><span class=o>=</span><span class=s>Emacs 27</span>
<span class=na>GenericName</span><span class=o>=</span><span class=s>Text Editor</span>
<span class=na>Comment</span><span class=o>=</span><span class=s>View and edit files</span>
<span class=na>MimeType</span><span class=o>=</span><span class=s>text/english;text/plain;text/x-makefile;text/x-c++hdr;text/x-c++src;text/x-chdr;text/x-csrc;text/x-java;text/x-moc;text/x-pascal;text/x-tcl;text/x-tex;application/x-shellscript;text/x-c;text/x-c++;</span>
<span class=na>Exec</span><span class=o>=</span><span class=s>/usr/local/bin/emacs %F</span>
<span class=na>TryExec</span><span class=o>=</span><span class=s>emacs</span>
<span class=na>Icon</span><span class=o>=</span><span class=s>emacs</span>
<span class=na>StartWMClass</span><span class=o>=</span><span class=s>emacs</span>
<span class=na>Type</span><span class=o>=</span><span class=s>Application</span>
<span class=na>Terminal</span><span class=o>=</span><span class=s>false</span>
<span class=na>Categories</span><span class=o>=</span><span class=s>Utility;Development;TextEditor;</span></code></pre></div></div><h2 id=headline-4>Native json support test</h2><p>The whole point of this for me was to see if we have native json
support. We can test this with:</p><div class="src src-elisp"><div class=highlight><pre class=chroma><code class=language-elisp data-lang=elisp><span class=p>(</span><span class=nb>if</span> <span class=p>(</span><span class=nf>functionp</span> <span class=ss>&#39;json-serialize</span><span class=p>)</span>
  <span class=p>(</span><span class=nf>message</span> <span class=s>&#34;Native JSON is available&#34;</span><span class=p>)</span>
<span class=p>(</span><span class=nf>message</span> <span class=s>&#34;Native JSON is *not* available&#34;</span><span class=p>))</span></code></pre></div></div><pre class=example>
Native JSON is available
</pre><h2 id=headline-5>References</h2><ol><li><p><a href=https://flatpak.org/setup/Debian/>https://flatpak.org/setup/Debian/</a></p></li><li><p><a href=https://www.masteringemacs.org/article/speed-up-emacs-libjansson-native-elisp-compilation>https://www.masteringemacs.org/article/speed-up-emacs-libjansson-native-elisp-compilation</a></p></li><li><p><a href=https://www.emacswiki.org/emacs/EmacsSnapshotAndDebian>https://www.emacswiki.org/emacs/EmacsSnapshotAndDebian</a></p></li><li><p><a href=https://wiki.debian.org/SourcesList>https://wiki.debian.org/SourcesList</a></p></li></ol></article></div><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center">Next Post:
<a href=../../../articles/2021/database_migrations/>Database Migrations</a></div><div class="col-md-6 text-center">Previous Post:
<a href=../../../articles/2021/setting_up_services_with_faasd/>Setting up redis and nat-connector with FaasD</a></div></div></div></div><div class="container mt-5"><h2 class=text-center>See also</h2><div class=row><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2020/getting_websters/>Getting Websters</a></p><p class="lead font-italic mb-0">More glorious language</p><div class="font-weight-light mt-3"><p>A few years ago I read a great post about the value of a good dictionary, which I installed on my laptop and then promptly forgot about. The post is very moving, and I recommend checking it out. It was recently mentioned on the planet emacs blog circuit and so I thought I'd document how to get it up and running on my laptop. Also I don't understand what the appeal of John McPhee's writing, I've tried a few of his books but found them all so plodding.</p></div><a href=../../../articles/2020/getting_websters/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2020/upgrading_emacs_on_debian/>Upgrading emacs on debian</a></p><p class="lead font-italic mb-0">fixing crashes</p><div class="font-weight-light mt-3"><p>Been playing with elfeed on Emacs 26.1 on buster and it keeps crashing. I think for font related reasons. So lets follow the Emacs Wiki Instructions to upgrade to emacs-snapshots and see if that helps. Add the snap shot repository. Make sure you have the tools installed so that apt can do it's internet thing. sudo apt-get install software-properties-common sudo apt-get update Add the signing key: wget -q http://emacs.</p></div><a href=../../../articles/2020/upgrading_emacs_on_debian/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2020/beginning_emacs/>Beginning Emacs</a></p><p class="lead font-italic mb-0">Rediscovering emacs</p><div class="font-weight-light mt-3"><p>Intro I've been dipping back ito the world of free software, and have been having a huge amount of fun getting back into emacs. I'm using it more of an operating system than I ever did before, as a way to navigate the world using a text interface. I'd never thought I'd be done with the terminal, but this is the first time that I've got something better and more powerful.</p></div><a href=../../../articles/2020/beginning_emacs/ class="btn btn-primary">Read more</a></div></div></div><footer class="footer bg-dark text-light mt-3"><div class=container><h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2></div></footer></body></html>