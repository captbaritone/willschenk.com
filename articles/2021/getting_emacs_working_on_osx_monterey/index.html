<!doctype html><html><head><title>Getting emacs working on OSX Monterey</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=../../../css/theme.css><link rel=stylesheet href=../../../css/syntax.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-56296045-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script async defer data-domain=willschenk.com src=https://plausible.io/js/plausible.js></script><meta property="og:title" content="Getting emacs working on OSX Monterey"><meta property="og:description" content="I recently got a new MacBook Pro. I still love my old Pixelbook, but I'm running too many docker containers on it and its slowing down my development time. In addition to the beautiful screen, zippy processor and charge it whenever you feel like it battery life, the speakers on the new MacBooks are mind blowing. But, of course we need emacs.  Also, ports and function keys. Finally."><meta property="og:type" content="article"><meta property="og:url" content="https://willschenk.com/articles/2021/getting_emacs_working_on_osx_monterey/"><meta property="article:published_time" content="2021-11-12T00:00:00+00:00"><meta property="article:modified_time" content="2021-11-12T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Getting emacs working on OSX Monterey"><meta name=twitter:description content="I recently got a new MacBook Pro. I still love my old Pixelbook, but I'm running too many docker containers on it and its slowing down my development time. In addition to the beautiful screen, zippy processor and charge it whenever you feel like it battery life, the speakers on the new MacBooks are mind blowing. But, of course we need emacs.  Also, ports and function keys. Finally."><meta name=twitter:site content="@wschenk"><style>.article p,.article ul,.article ol,.article table{max-width:45em}.article pre p{max-width:none;margin-top:-1.5rem}article.article p:first-child,.article blockquote{font-size:1.25em;font-weight:300;max-width:36em}.half-height-scroll{max-height:32em;overflow:scroll}</style></head><body><nav class="container my-5"><h1 class="pt-md-5 display-3"><a class=text-dark href=../../../>Will Schenk</a></h1><p><a class="text-dark h4 mr-3 font-weight-light" href=../../../articles/>Articles</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../contact>Contact</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../tags/>Tags</a>
<a href=../../../feed.xml class="mr-3 h4 text-light"><img src=../../../img/rss.svg alt=rss height=20 width=20></a>
<a href=https://twitter.com/@wschenk class="mr-3 h4 text-light"><img src=../../../img/twitter.svg alt=twitter height=20 width=20></a>
<a href=https://instagram.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/instagram.svg alt=instagram height=20 width=20></a>
<a href=https://github.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/github.svg alt=github height=20 width=20></a>
<a href=https://linkedin.com/in/will-schenk-420266 class="mr-3 h4 text-light"><img src=../../../img/linkedin.svg alt=linkedin height=20 width=20></a></p></nav><div class=container><h1 class=mt-5>Getting emacs working on OSX Monterey</h1><h2 class="font-weight-light font-italic mb-3">security and permissions</h2><p class="text-muted mt-3"><a class=text-muted href=https://willschenk.com/articles/2021/getting_emacs_working_on_osx_monterey/>Published November 12, 2021</a>
<a class=text-muted href=../../../tags/emacs>#emacs,</a>
<a class=text-muted href=../../../tags/osx>#osx,</a>
<a class=text-muted href=../../../tags/homebrew>#homebrew</a></p><article class="article mt-5"><p>I recently got a new MacBook Pro. I still love my old Pixelbook, but
I'm running too many docker containers on it and its slowing down my
development time. In addition to the beautiful screen, zippy
processor and charge it whenever you feel like it battery life, the
speakers on the new MacBooks are mind blowing. But, of course we need
emacs.</p><p>Also, ports and function keys. Finally.</p><h2 id=headline-1>Install <code class=verbatim>homebrew</code></h2><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>/bin/bash -c <span class=s2>&#34;</span><span class=k>$(</span>curl -fsSL https://raw.githubusercontent.com/Homebrew/install/HEAD/install.sh<span class=k>)</span><span class=s2>”</span></code></pre></div></div><p>Then run the “next steps part”</p><h2 id=headline-2>Install emacs</h2><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>brew install --cask emacs</code></pre></div></div><p>The <code class=verbatim>cmd-space emacs</code> to start the application.</p><h2 id=headline-3>Security settings</h2><ol><li><p>Go to <code class=verbatim>System Preferences</code></p></li><li><p><code class=verbatim>Security</code>, then unlock to make changes</p></li><li><p>Enable the binary</p></li><li><p>Then go to <code class=verbatim>Privacy</code></p></li><li><p>Enable <code class=verbatim>Full Disk Access</code> for emacs</p></li></ol><h2 id=headline-4>Fix <code class=verbatim>Emacs.app</code> to get access prompts</h2><p>There's a launcher script to figure out what version of the emacs
binary to start up depending upon the architecture, which confuses
OSX. We'll need to get rid of this in order to help OSX figure out
what's happening.</p><p>In a shell:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  <span class=nb>cd</span> /Applications/Emacs.app/Contents/MacOS 
  mv Emacs Emacs-Launcher
  cp Emacs-arm64-11_2 Emacs
  cp Emacs-arm64-11_2.pdmp Emacs.pdmp</code></pre></div></div><h2 id=headline-5>Change caps lock and remove Mission Control hijacking</h2><ol><li><p>Go to <code class=verbatim>System Preferences</code></p></li><li><p>Select <code class=verbatim>Modifier Keys</code></p></li><li><p>Change <code class=verbatim>Caps Lock</code> to be <code class=verbatim>Control</code></p></li><li><p>Go to <code class=verbatim>Mission Control</code></p></li><li><p>Unset the <code class=verbatim>C-up</code> and <code class=verbatim>C-down</code> so that emacs gets it.</p></li></ol><h2 id=headline-6>Emacs specific settings</h2><p>It's also useful to remap the <code class=verbatim>Command</code> key into <code class=verbatim>Meta</code> in the emacs
world, which you can do in your <code class=verbatim>init.el</code> with:</p><div class="src src-elisp"><div class=highlight><pre class=chroma><code class=language-elisp data-lang=elisp>  <span class=p>(</span><span class=nb>setq</span> <span class=nv>mac-option-key-is-meta</span> <span class=no>nil</span><span class=p>)</span>
  <span class=p>(</span><span class=nb>setq</span> <span class=nv>mac-command-key-is-meta</span> <span class=no>t</span><span class=p>)</span>
  <span class=p>(</span><span class=nb>setq</span> <span class=nv>mac-command-modifier</span> <span class=ss>&#39;meta</span><span class=p>)</span>
  <span class=p>(</span><span class=nb>setq</span> <span class=nv>mac-option-modifier</span> <span class=no>nil</span><span class=p>)</span></code></pre></div></div><h2 id=headline-7>Fonts</h2><p>Another handy thing to do is to add fonts from <code class=verbatim>homebrew</code>. This isn't
really necessary, but here for reference:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>brew install svn
brew tap homebrew/cask-fonts
brew install font-inconsolata
brew install font-roboto-mono
brew install font-fira-code</code></pre></div></div><h2 id=headline-8>Conclusion</h2><p>This is a nice machine.</p></article></div><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center"></div><div class="col-md-6 text-center">Previous Post:
<a href=../../../articles/2021/wrapping_a_executable_in_a_function/>Wrapping a executable in a function</a></div></div></div></div><div class="container mt-5"><h2 class=text-center>See also</h2><div class=row><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2021/sql_in_org_mode/>SQL in Org-Mode</a></p><p class="lead font-italic mb-0">Everything in org-mode</p><div class="font-weight-light mt-3"><p>I do a lot of sql, and I do a lot of org-mode. Lets put them together. Native SQLite In org-babel-load-languages turn on sqlite. (You can use customize for this if you don't have another method in use.) Then you have a source block that looks like _#+begin_src sqlite :db test.db :colnames yes create table if not exists greeting(one varchar(10), two varchar(10)); insert into greeting values( 'Hello', 'world!</p></div><a href=../../../articles/2021/sql_in_org_mode/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2021/setting_up_emacs_for_typescript_development/>Setting up emacs for typescript development</a></p><p class="lead font-italic mb-0">If we are going to bother with static types, might as well use them</p><div class="font-weight-light mt-3"><p>I've been playing with deno and typescript, so I thought I'd document how to setup a basic tide environment with emacs. Prerecs Things will go better if you have nativejson support in your emacs build. I build from scratch which is super easy, but to check what you have you can run the following elisp: (if (functionp 'json-serialize) (message "Native JSON is available") (message "Native JSON is *not* available")) Native JSON is available You also will need Node > 0.</p></div><a href=../../../articles/2021/setting_up_emacs_for_typescript_development/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2021/emacs_blogging_mode/>Emacs Blog Writing and Navigation Mode</a></p><p class="lead font-italic mb-0">emacs and hugo sitting in a tree</p><div class="font-weight-light mt-3"><p>This blog is basically my labnotes where I explore different parts of technology. Almost all of my coding related activity starts off in this repo, while I explore different things to see how they work. I have a lot of things in drafts, and I wanted to learn how to build a simple emacs interface to let me navigate around my file system. I couldn't find any good documentation on how to do anything with tabulated-list-mode so I spend the evening poking around and seeing how it works.</p></div><a href=../../../articles/2021/emacs_blogging_mode/ class="btn btn-primary">Read more</a></div></div></div><footer class="footer bg-dark text-light mt-3"><div class=container><h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2></div></footer></body></html>