<!doctype html><html><head><title>asdf as environment manager</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=../../../css/theme.css><link rel=stylesheet href=../../../css/syntax.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-56296045-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script async defer data-domain=willschenk.com src=https://plausible.io/js/plausible.js></script><meta property="og:title" content="asdf as environment manager"><meta property="og:description" content="I've switch to using asdf to manage my computers version of different programming environments. This is both a more unified approach to using both nvm and rbenv, since it handles a lot more programming languages, but the implementation is also faster. Installing asdf   Go to the asdf getting started page to get the latest version: git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.8.0   Then add this to your ~/."><meta property="og:type" content="article"><meta property="og:url" content="https://willschenk.com/articles/2021/asdf_as_environment_manager/"><meta property="article:published_time" content="2021-03-13T00:00:00+00:00"><meta property="article:modified_time" content="2021-03-13T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="asdf as environment manager"><meta name=twitter:description content="I've switch to using asdf to manage my computers version of different programming environments. This is both a more unified approach to using both nvm and rbenv, since it handles a lot more programming languages, but the implementation is also faster. Installing asdf   Go to the asdf getting started page to get the latest version: git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.8.0   Then add this to your ~/."><meta name=twitter:site content="@wschenk"><style>.article p,.article ul,.article ol,.article table{max-width:45em}.article pre p{max-width:none;margin-top:-1.5rem}article.article p:first-child,.article blockquote{font-size:1.25em;font-weight:300;max-width:36em}.half-height-scroll{max-height:32em;overflow:scroll}</style></head><body><nav class="container my-5"><h1 class="pt-md-5 display-3"><a class=text-dark href=../../../>Will Schenk</a></h1><p><a class="text-dark h4 mr-3 font-weight-light" href=../../../articles/>Articles</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../contact>Contact</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../tags/>Tags</a>
<a href=../../../feed.xml class="mr-3 h4 text-light"><img src=../../../img/rss.svg alt=rss height=20 width=20></a>
<a href=https://twitter.com/@wschenk class="mr-3 h4 text-light"><img src=../../../img/twitter.svg alt=twitter height=20 width=20></a>
<a href=https://instagram.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/instagram.svg alt=instagram height=20 width=20></a>
<a href=https://github.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/github.svg alt=github height=20 width=20></a>
<a href=https://linkedin.com/in/will-schenk-420266 class="mr-3 h4 text-light"><img src=../../../img/linkedin.svg alt=linkedin height=20 width=20></a></p></nav><div class=container><h1 class=mt-5>asdf as environment manager</h1><h2 class="font-weight-light font-italic mb-3">so much faster</h2><p class="text-muted mt-3"><a class=text-muted href=https://willschenk.com/articles/2021/asdf_as_environment_manager/>Published March 13, 2021</a>
<a class=text-muted href=../../../tags/asdf>#asdf,</a>
<a class=text-muted href=../../../tags/nvm>#nvm,</a>
<a class=text-muted href=../../../tags/rvm>#rvm,</a>
<a class=text-muted href=../../../tags/rbenv>#rbenv</a></p><article class="article mt-5"><p>I've switch to using <a href=https://asdf-vm.com/>asdf</a> to manage my computers version of different
programming environments. This is both a more unified approach to
using both <code class=verbatim>nvm</code> and <code class=verbatim>rbenv</code>, since it handles a lot more programming
languages, but the implementation is also faster.</p><h2 id=headline-1>Installing <code class=verbatim>asdf</code></h2><p>Go to the <a href=https://asdf-vm.com/#/core-manage-asdf>asdf getting started page</a> to get the latest version:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>git clone https://github.com/asdf-vm/asdf.git ~/.asdf --branch v0.8.0</code></pre></div></div><p>Then add this to your <code class=verbatim>~/.bashrc</code>:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>. <span class=nv>$HOME</span>/.asdf/asdf.sh</code></pre></div></div><h2 id=headline-2>Add a plugin</h2><p>Different languages are supported using plugins, so first we need to
install a plugin. For example:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>asdf plugin add deno</code></pre></div></div><h2 id=headline-3>Updating plugins</h2><p><code class=verbatim>asdf</code> itself has the code to manage the environment directories and
keeping track of the packages. The <code class=verbatim>plugins</code> know all about a specific
environment. So if you want to get the latest version of, say, deno,
you need to update the plugin because that's where the build
instructions live.</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>asdf plugin update --all</code></pre></div></div><h2 id=headline-4>Installing a version</h2><p>This will list all available versions for a specific environment:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>asdf list all deno</code></pre></div></div><p>We can install the latest with:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>asdf install deno latest</code></pre></div></div><pre class=example>
∗ Downloading and installing deno...
Archive:  /home/wschenk/.asdf/installs/deno/1.8.1/bin/deno.zip
  inflating: /home/wschenk/.asdf/installs/deno/1.8.1/bin/deno  
The installation was successful!
</pre><p>We can install a specific version with:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>asdf install deno 1.6.3</code></pre></div></div><pre class=example>
∗ Downloading and installing deno...
Archive:  /home/wschenk/.asdf/installs/deno/1.6.3/bin/deno.zip
  inflating: /home/wschenk/.asdf/installs/deno/1.6.3/bin/deno  
The installation was successful!
</pre><h2 id=headline-5>Selecting a version to use</h2><p>There are 3 different scopes for usage:</p><table class="table table-striped"><tbody><tr><td><code class=verbatim>global</code></td><td>written into <code class=verbatim>~/.tool-version</code>, the default unless overridden</td></tr><tr><td><code class=verbatim>shell</code></td><td>the version that the current shell defaults to</td></tr><tr><td><code class=verbatim>local</code></td><td>written into $PWD/.tool-version, overridden by directory</td></tr></tbody></table><p>In our case, I'm going to do</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>asdf global deno 1.6.3</code></pre></div></div><p>Then</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>deno --version</code></pre></div></div><pre class=example>
deno 1.6.3 (release, x86_64-unknown-linux-gnu)
v8 8.8.294
typescript 4.1.3
</pre><h2 id=headline-6>Conclusion</h2><p>There seems to be a lot less shell overhead when using <code class=verbatim>asdf</code> vs <code class=verbatim>rbenv</code>
and all the other ones, so I found that in practice it really sped up
my system when running something that created a lot of subshells
(<code class=verbatim>./configure</code> for example.)</p></article></div><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center">Next Post:
<a href=../../../articles/2021/emacs_blogging_mode/>Emacs Blog Writing and Navigation Mode</a></div><div class="col-md-6 text-center">Previous Post:
<a href=../../../articles/2021/database_migrations/>Database Migrations</a></div></div></div></div><footer class="footer bg-dark text-light mt-3"><div class=container><h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2></div></footer></body></html>