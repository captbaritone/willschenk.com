<!doctype html><html><head><title>Snowpack for fast builds</title><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><link rel=stylesheet href=../../../css/theme.css><link rel=stylesheet href=../../../css/syntax.css><script type=application/javascript>var doNotTrack=false;if(!doNotTrack){window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;ga('create','UA-56296045-1','auto');ga('send','pageview');}</script><script async src=https://www.google-analytics.com/analytics.js></script><script async defer data-domain=willschenk.com src=https://plausible.io/js/plausible.js></script><meta property="og:title" content="Snowpack for fast builds"><meta property="og:description" content="Snowpack  npm install --save-dev snowpack   Then add to package.json &#34;scripts&#34;: { &#34;start&#34;: &#34;snowpack dev&#34;, &#34;build&#34;: &#34;snowpack build&#34; }  React   Now lets add react: npm install react react-dom --save   And create our files:  src/index.tsx: import React from &#34;react&#34;; import ReactDOM from &#34;react-dom&#34;; import App from &#34;./App&#34;; ReactDOM.render(<App />, document.getElementById(&#34;root&#34;));    src/App.jsx: import React, {useState, useEffect} from 'react'; function App() { // Create the count state."><meta property="og:type" content="article"><meta property="og:url" content="https://willschenk.com/articles/2022/snowpack_for_fast_builds/"><meta property="article:published_time" content="2022-01-02T00:00:00+00:00"><meta property="article:modified_time" content="2022-01-02T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Snowpack for fast builds"><meta name=twitter:description content="Snowpack  npm install --save-dev snowpack   Then add to package.json &#34;scripts&#34;: { &#34;start&#34;: &#34;snowpack dev&#34;, &#34;build&#34;: &#34;snowpack build&#34; }  React   Now lets add react: npm install react react-dom --save   And create our files:  src/index.tsx: import React from &#34;react&#34;; import ReactDOM from &#34;react-dom&#34;; import App from &#34;./App&#34;; ReactDOM.render(<App />, document.getElementById(&#34;root&#34;));    src/App.jsx: import React, {useState, useEffect} from 'react'; function App() { // Create the count state."><meta name=twitter:site content="@wschenk"><style>.article p,.article ul,.article ol,.article table{max-width:45em}.article pre p{max-width:none;margin-top:-1.5rem}article.article p:first-child,.article blockquote{font-size:1.25em;font-weight:300;max-width:36em}.half-height-scroll{max-height:32em;overflow:scroll}</style></head><body><nav class="container my-5"><h1 class="pt-md-5 display-3"><a class=text-dark href=../../../>Will Schenk</a></h1><p><a class="text-dark h4 mr-3 font-weight-light" href=../../../articles/>Articles</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../contact>Contact</a>
<a class="text-dark h4 mr-3 font-weight-light" href=../../../tags/>Tags</a>
<a href=../../../feed.xml class="mr-3 h4 text-light"><img src=../../../img/rss.svg alt=rss height=20 width=20></a>
<a href=https://twitter.com/@wschenk class="mr-3 h4 text-light"><img src=../../../img/twitter.svg alt=twitter height=20 width=20></a>
<a href=https://instagram.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/instagram.svg alt=instagram height=20 width=20></a>
<a href=https://github.com/wschenk class="mr-3 h4 text-light"><img src=../../../img/github.svg alt=github height=20 width=20></a>
<a href=https://linkedin.com/in/will-schenk-420266 class="mr-3 h4 text-light"><img src=../../../img/linkedin.svg alt=linkedin height=20 width=20></a></p></nav><div class=container><h1 class=mt-5>Snowpack for fast builds</h1><h2 class="font-weight-light font-italic mb-3">react and tailwind too</h2><p class="text-muted mt-3"><a class=text-muted href=https://willschenk.com/articles/2022/snowpack_for_fast_builds/>Published January 2, 2022</a>
<a class=text-muted href=../../../tags/snowpack>#snowpack,</a>
<a class=text-muted href=../../../tags/react>#react,</a>
<a class=text-muted href=../../../tags/tailwind>#tailwind</a></p><article class="article mt-5"><h2 id=headline-1>Snowpack</h2><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  npm install --save-dev snowpack</code></pre></div></div><p>Then add to <code class=verbatim>package.json</code></p><div class="src src-json"><div class=highlight><pre class=chroma><code class=language-json data-lang=json>
<span class=s2>&#34;scripts&#34;</span><span class=err>:</span> <span class=p>{</span>
    <span class=nt>&#34;start&#34;</span><span class=p>:</span> <span class=s2>&#34;snowpack dev&#34;</span><span class=p>,</span>
    <span class=nt>&#34;build&#34;</span><span class=p>:</span> <span class=s2>&#34;snowpack build&#34;</span>
<span class=p>}</span></code></pre></div></div><h2 id=headline-2>React</h2><p>Now lets add react:</p><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  npm install react react-dom --save</code></pre></div></div><p>And create our files:</p><p><code class=verbatim>src/index.tsx</code>:</p><div class="src src-typescript"><div class=highlight><pre class=chroma><code class=language-typescript data-lang=typescript>  <span class=kr>import</span> <span class=nx>React</span> <span class=nx>from</span> <span class=s2>&#34;react&#34;</span><span class=p>;</span>
  <span class=kr>import</span> <span class=nx>ReactDOM</span> <span class=nx>from</span> <span class=s2>&#34;react-dom&#34;</span><span class=p>;</span>
  <span class=kr>import</span> <span class=nx>App</span> <span class=nx>from</span> <span class=s2>&#34;./App&#34;</span><span class=p>;</span>

  <span class=nx>ReactDOM</span><span class=p>.</span><span class=nx>render</span><span class=p>(</span><span class=o>&lt;</span><span class=nx>App</span> <span class=o>/&gt;</span><span class=p>,</span> <span class=nb>document</span><span class=p>.</span><span class=nx>getElementById</span><span class=p>(</span><span class=s2>&#34;root&#34;</span><span class=p>));</span>
</code></pre></div></div><p><code class=verbatim>src/App.jsx</code>:</p><div class="src src-typescript"><div class=highlight><pre class=chroma><code class=language-typescript data-lang=typescript>  <span class=kr>import</span> <span class=nx>React</span><span class=p>,</span> <span class=p>{</span><span class=nx>useState</span><span class=p>,</span> <span class=nx>useEffect</span><span class=p>}</span> <span class=nx>from</span> <span class=s1>&#39;react&#39;</span><span class=p>;</span>

  <span class=kd>function</span> <span class=nx>App() {</span>
    <span class=c1>// Create the count state.
</span><span class=c1></span>    <span class=kr>const</span> <span class=p>[</span><span class=nx>count</span><span class=p>,</span> <span class=nx>setCount</span><span class=p>]</span> <span class=o>=</span> <span class=nx>useState</span><span class=p>(</span><span class=mi>0</span><span class=p>);</span>
    <span class=c1>// Update the count (+1 every second).
</span><span class=c1></span>    <span class=nx>useEffect</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=p>{</span>
      <span class=kr>const</span> <span class=nx>timer</span> <span class=o>=</span> <span class=nx>setTimeout</span><span class=p>(()</span> <span class=o>=&gt;</span> <span class=nx>setCount</span><span class=p>(</span><span class=nx>count</span> <span class=o>+</span> <span class=mi>1</span><span class=p>),</span> <span class=mi>1000</span><span class=p>);</span>
      <span class=k>return</span> <span class=p>()</span> <span class=o>=&gt;</span> <span class=nx>clearTimeout</span><span class=p>(</span><span class=nx>timer</span><span class=p>);</span>
    <span class=p>},</span> <span class=p>[</span><span class=nx>count</span><span class=p>,</span> <span class=nx>setCount</span><span class=p>]);</span>
    <span class=c1>// Return the App component.
</span><span class=c1></span>    <span class=k>return</span> <span class=p>(</span>
      <span class=o>&lt;</span><span class=nx>div</span> <span class=nx>className</span><span class=o>=</span><span class=s2>&#34;max-w-screen-lg mx-auto pt-4&#34;</span><span class=o>&gt;</span>
        <span class=o>&lt;</span><span class=nx>header</span><span class=o>&gt;</span>
          <span class=o>&lt;</span><span class=nx>p</span><span class=o>&gt;</span>
            <span class=nx>Page</span> <span class=nx>has</span> <span class=nx>been</span> <span class=nx>open</span> <span class=k>for</span> <span class=o>&lt;</span><span class=nx>code</span><span class=o>&gt;</span><span class=p>{</span><span class=nx>count</span><span class=p>}</span><span class=o>&lt;</span><span class=err>/code&gt; seconds.</span>
          <span class=o>&lt;</span><span class=err>/p&gt;</span>
        <span class=o>&lt;</span><span class=err>/header&gt;</span>
      <span class=o>&lt;</span><span class=err>/div&gt;</span>
    <span class=p>);</span>
  <span class=p>}</span>

  <span class=kr>export</span> <span class=k>default</span> <span class=nx>App</span><span class=p>;</span>
</code></pre></div></div><h2 id=headline-3>Tailwind</h2><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>npm install --save-dev tailwindcss @snowpack/plugin-postcss postcss</code></pre></div></div><div class="src src-javascript"><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript>  <span class=c1>// postcss.config.js
</span><span class=c1></span>  <span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>plugins</span><span class=o>:</span> <span class=p>{</span>
      <span class=nx>tailwindcss</span><span class=o>:</span> <span class=p>{},</span>
      <span class=c1>// other plugins can go here, such as autoprefixer
</span><span class=c1></span>    <span class=p>},</span>
  <span class=p>};</span>
</code></pre></div></div><div class="src src-javascript"><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript>  <span class=c1>// tailwind.config.js
</span><span class=c1></span>  <span class=nx>module</span><span class=p>.</span><span class=nx>exports</span> <span class=o>=</span> <span class=p>{</span>
    <span class=nx>mode</span><span class=o>:</span> <span class=s1>&#39;jit&#39;</span><span class=p>,</span>
    <span class=nx>purge</span><span class=o>:</span> <span class=p>[</span><span class=s1>&#39;./public/**/*.html&#39;</span><span class=p>,</span> <span class=s1>&#39;./src/**/*.{js,jsx,ts,tsx,vue}&#39;</span><span class=p>],</span>
    <span class=c1>// specify other options here
</span><span class=c1></span>  <span class=p>};</span>
</code></pre></div></div><div class="src src-javascript"><div class=highlight><pre class=chroma><code class=language-javascript data-lang=javascript>  <span class=c1>// snowpack.config.mjs
</span><span class=c1></span>  <span class=kr>export</span> <span class=k>default</span> <span class=p>{</span>
      <span class=nx>mount</span><span class=o>:</span> <span class=p>{</span>
          <span class=nx>src</span><span class=o>:</span> <span class=s1>&#39;/dist&#39;</span><span class=p>,</span>
          <span class=kr>public</span><span class=o>:</span> <span class=s1>&#39;/&#39;</span><span class=p>,</span>
      <span class=p>},</span>
      <span class=nx>devOptions</span><span class=o>:</span> <span class=p>{</span>
          <span class=nx>tailwindConfig</span><span class=o>:</span> <span class=s1>&#39;./tailwind.config.js&#39;</span><span class=p>,</span>
      <span class=p>},</span>
      <span class=nx>plugins</span><span class=o>:</span> <span class=p>[</span>
          <span class=s1>&#39;@snowpack/plugin-postcss&#39;</span><span class=p>,</span>
      <span class=p>],</span>
  <span class=p>};</span>
</code></pre></div></div><p>Then create the css:</p><div class="src src-css"><div class=highlight><pre class=chroma><code class=language-css data-lang=css><span class=p>@</span><span class=k>tailwind</span> <span class=nt>base</span><span class=p>;</span>
<span class=p>@</span><span class=k>tailwind</span> <span class=nt>components</span><span class=p>;</span>
<span class=p>@</span><span class=k>tailwind</span> <span class=nt>utilities</span><span class=p>;</span></code></pre></div></div><h2 id=headline-4>html to tie it together:</h2><p><code class=verbatim>public/index.html</code>:</p><div class="src src-html"><div class=highlight><pre class=chroma><code class=language-html data-lang=html>  <span class=cp>&lt;!DOCTYPE html&gt;</span>
  <span class=p>&lt;</span><span class=nt>html</span> <span class=na>lang</span><span class=o>=</span><span class=s>&#34;en&#34;</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>head</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>charset</span><span class=o>=</span><span class=s>&#34;utf-8&#34;</span> <span class=p>/&gt;</span>
      <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;viewport&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;width=device-width, initial-scale=1&#34;</span> <span class=p>/&gt;</span>
      <span class=p>&lt;</span><span class=nt>meta</span> <span class=na>name</span><span class=o>=</span><span class=s>&#34;description&#34;</span> <span class=na>content</span><span class=o>=</span><span class=s>&#34;Starter Snowpack App&#34;</span> <span class=p>/&gt;</span>
      <span class=p>&lt;</span><span class=nt>title</span><span class=p>&gt;</span>React + Tailwind + Typescript<span class=p>&lt;/</span><span class=nt>title</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>link</span> <span class=na>rel</span><span class=o>=</span><span class=s>&#34;stylesheet&#34;</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;text/css&#34;</span> <span class=na>href</span><span class=o>=</span><span class=s>&#34;/global.css&#34;</span> <span class=p>/&gt;</span>
    <span class=p>&lt;/</span><span class=nt>head</span><span class=p>&gt;</span>
    <span class=p>&lt;</span><span class=nt>body</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>div</span> <span class=na>id</span><span class=o>=</span><span class=s>&#34;root&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>div</span><span class=p>&gt;</span>
      <span class=p>&lt;</span><span class=nt>script</span> <span class=na>type</span><span class=o>=</span><span class=s>&#34;module&#34;</span> <span class=na>src</span><span class=o>=</span><span class=s>&#34;/dist/index.js&#34;</span><span class=p>&gt;&lt;/</span><span class=nt>script</span><span class=p>&gt;</span>
    <span class=p>&lt;/</span><span class=nt>body</span><span class=p>&gt;</span>
  <span class=p>&lt;/</span><span class=nt>html</span><span class=p>&gt;</span></code></pre></div></div><h2 id=headline-5>Build</h2><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>npx run build</code></pre></div></div><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  tree build</code></pre></div></div><pre class=example>
build
├── _snowpack
│   └── pkg
│       ├── common
│       │   └── index-ae389540.js
│       ├── import-map.json
│       ├── react-dom.js
│       └── react.js
├── dist
│   ├── App.js
│   └── index.js
├── global.css
└── index.html

4 directories, 8 files
</pre><div class="src src-bash"><div class=highlight><pre class=chroma><code class=language-bash data-lang=bash>  du -sh build</code></pre></div></div><pre class=example>
168K	build
</pre><h2 id=headline-6>References</h2><ol><li><p><a href=https://www.snowpack.dev/tutorials/react>https://www.snowpack.dev/tutorials/react</a></p></li><li><p><a href=https://www.snowpack.dev/guides/tailwind-css/>https://www.snowpack.dev/guides/tailwind-css/</a></p></li></ol></article></div><div class="bg-light py-5"><div class=container><h2 class=text-center>Read next</h2><div class=row><div class="col-md-6 text-center"></div><div class="col-md-6 text-center">Previous Post:
<a href=../../../articles/2022/using_active_record_outside_of_rails/>Using ActiveRecord outside of rails</a></div></div></div></div><div class="container mt-5"><h2 class=text-center>See also</h2><div class=row><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2021/bootstrapping_react_with_tailwind_css/>Bootstrapping React with Tailwind</a></p><p class="lead font-italic mb-0">as so I remember</p><div class="font-weight-light mt-3"><p>This is straight from the Tailwind Install Guide but here so I can remember it easier. Setup the project npx create-react-app my-app cd my-app Install tailwindcss npm install -D tailwindcss@npm:@tailwindcss/postcss7-compat \ @tailwindcss/postcss7-compat \ postcss@^7 \ autoprefixer@^9 Install craco npm install @craco/craco And change the scripts part of package.json: "start": "craco start", "build": "craco build", "test": "craco test", Create a craco.</p></div><a href=../../../articles/2021/bootstrapping_react_with_tailwind_css/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2021/building_an_openfaas_template/>Building static OpenFaas templates</a></p><p class="lead font-italic mb-0">Packaging up the packager</p><div class="font-weight-light mt-3"><p>I've been playing with OpenFaaS recently and it's a very accessable way to starting building cloud first services. I wanted to see what I could cram in there, so I built a few templates that would let me host a static site. One that is just html, and another than can be built with something like create-react-app. Static Create the template directory: mkdir -p template/static Then add a template/static/template.</p></div><a href=../../../articles/2021/building_an_openfaas_template/ class="btn btn-primary">Read more</a></div><div class="col-md mb-3"><p class="lead mb-0"><a class=text-body href=../../../articles/2020/playing_with_tailwind/>Playing with tailwind</a></p><p class="lead font-italic mb-0">An excersize in minimilism</p><div class="font-weight-light mt-3"><p>We are going to use tailwindcss to build a site. We will start with a blank folder and a static HTML file to work on the designs, and then slowly bring in other tools when needed to add in functionality.
The site that we are going to build is a company directory that pulls in data from Google Apps Suite. The goal here is to build the simplest thing possible and not get lost in the tooling.</p></div><a href=../../../articles/2020/playing_with_tailwind/ class="btn btn-primary">Read more</a></div></div></div><footer class="footer bg-dark text-light mt-3"><div class=container><h2 class="py-5 font-weight-light my-0">Made in Brooklyn, NY.</h2></div></footer></body></html>